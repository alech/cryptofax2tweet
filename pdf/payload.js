rng_seed_time();
var test_n = "DE894A3D7F694833900C646B015CD1578C004F3EE492920E8860F8F5AF1261E693CE850373416C5CB5B9F1C72E500C37C3B3DA8BFA67C5FCCDE7BC5E6B6A8800EFD50A140B7316F84032B369D64EF25AA049ACC7CDA3C50FE6CBABAA5B7977AD2A80AD5410F136219B2700D30C47A9C6F3AC4DA66EB092F1B83059B588261B7988F270F30BDDC8F1A826CB33B6CCDBBFD03BEDAAA98C536A6AE21C2AE57E8D31D68A904293806F0F3F016DEFAA5937988FE3A45990A40874A1490A5FDF8634CC9BAD620ABBD677F57B83B15A71536B1F287C002164E63CBC2769BEB7A3AA9CD831493322A7ADF741B8AE6307C2B065C7270DAB56FF915B2847E7D350EFF01F9B64A9FBE0FBAF155C7637EC22B1F4625AE042E2390CEADF611368A4A3196C5A03FECB50CE1C56AC2D835E6C762C5BE7F6B34DA293366131BBA09D9F42DB91EAC3CF0CCD116DC52624DFF7307EB3F92D4DA2BF2B5DEB6B0825362DBBC713806A25C44D52C972694778737B6C92D6CE6D68237626E850643CD33212CC99A521CAE7F274DACBBDC5D97E396699DB250A9BA6525DF4EBD221C3FF20971DEB239D0378216B7B444D5DD2BFFA150B06606D3767C7E0306C3BDCB0E92C270BC2FAEC6472219F9BEB5CAE60CE0D43FD534D30D738935CDFAE6C17E805CFB5575DBA918A9A325E28F2A2E77A4127A90185C726CD1544AF1FBAA3E045D8EC9D406637A630A1";
var test_e = "10001";

var tweet_ok = false;
var tweet = "";

while (! tweet_ok) {
	tweet = app.response({
		cQuestion: "What's happening? (your tweet goes here)",
		cTitle: "Tweet",
	});
	console.println(tweet);
	if (tweet == null || tweet.length == 0) {
		app.alert("Please tweet something.");
	}
	else if (tweet.length > 140) {
		app.alert("Your tweet is too long, please restrict yourself to 140 characters.");
	}
	else {
		tweet_ok = true;
	}
}

var rsa = new RSAKey();
rsa.setPublic(test_n, test_e);
var res = rsa.encrypt(tweet);
var ciphertext = hex2b64(res);

this.rawValue = ciphertext;
